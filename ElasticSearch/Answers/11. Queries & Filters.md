---

## **11. Queries & Filters (Q41–Q45)**

---

**41. What’s the difference between query context and filter context?**

- **Answer:**
    
    - **Query context**: Calculates relevance score (`_score`), used for full-text search.
        
    - **Filter context**: No scoring, only yes/no match, used for exact filtering.
        
- **Pitfall Note:** Using query context for filters can waste performance and skew relevance.
    

---

**42. Difference between term and match query?**

- **Answer:**
    
    - **term**: Exact match, no analysis.
        
    - **match**: Analyzed query text, full-text search.
        
- **Pitfall Note:** Using `term` on a text field won’t match expected results due to analysis.
    

---

**43. How does a bool query work?**

- **Answer:**
    
    - Combines queries with clauses:
        
        - `must` (AND, scored)
            
        - `should` (OR, scored)
            
        - `must_not` (NOT, excluded)
            
        - `filter` (exact filter, no score)
            
- **Pitfall Note:** All `should` clauses act like OR unless `minimum_should_match` is set.
    

---

**44. How to make a query case-insensitive for exact matches?**

- **Answer:**
    
    - Use a **keyword field** with a **lowercase normalizer**.
        
    - Example:
        
        ```json
        "email": { 
          "type": "keyword",
          "normalizer": "lowercase_normalizer"
        }
        ```
        
- **Pitfall Note:** Without a normalizer, keyword fields are case-sensitive.
    

---

**45. What’s the difference between range query and range filter?**

- **Answer:**
    
    - Both use the same syntax, but in **query context** it’s scored, in **filter context** it’s cached and not scored.
        
- **Pitfall Note:** Use filter context for better performance when scoring is not required.
    

---