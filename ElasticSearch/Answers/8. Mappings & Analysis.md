---

## **8. Mappings & Analysis (Q36–Q40)**

---

**36. What is the difference between dynamic, explicit, and strict mapping?**

- **Answer:**
    
    - **Dynamic mapping** – ES automatically detects and adds fields with inferred types.
        
    - **Explicit mapping** – You define field names and types manually before indexing.
        
    - **Strict mapping** – Throws an error if a new field is not defined in the mapping.
        
- **Pitfall Note:** Dynamic mapping can accidentally create unwanted fields (e.g., typos in field names).
    

---

**37. How do analyzers work in Elasticsearch?**

- **Answer:**
    
    - **Analyzer** = **Tokenizer** + **Character Filters** + **Token Filters**.
        
    - Example: `standard` analyzer lowercases text and splits by word boundaries.
        
- **Pitfall Note:** Analyzer used at **index time** must match query-time analyzer for expected results.
    

---

**38. What is the difference between keyword and text field types?**

- **Answer:**
    
    - **keyword**: Stored as-is, not analyzed, used for exact matches, sorting, and aggregations.
        
    - **text**: Analyzed, tokenized, and used for full-text search.
        
- **Pitfall Note:** Using `text` instead of `keyword` can break exact match filters and aggregations.
    

---

**39. How can you support both full-text search and exact match on the same field?**

- **Answer:**
    
    - Use **multi-fields** mapping:
        
        ```json
        "name": {
          "type": "text",
          "fields": {
            "raw": { "type": "keyword" }
          }
        }
        ```
        
- **Pitfall Note:** Querying `name` vs `name.raw` incorrectly can return unexpected results.
    

---

**40. What’s the role of normalizers in Elasticsearch?**

- **Answer:**
    
    - Normalizers are like analyzers but for **keyword fields** (no tokenization, only char/token filters).
        
    - Example: Lowercasing keywords for case-insensitive exact matches.
        
- **Pitfall Note:** Normalizers can’t be changed without reindexing.
    

---